import{v as R,a as X}from"./runtime-dom.esm-bundler.DkFgPflE.js";import{g as ie}from"./supabase.CYCWDCT1.js";import{f as $,A as Ee,G as Ue}from"./ActionButton.wnuKMHr3.js";import{a as S,s as d,c as C}from"./toast.nt_L5FyR.js";import{f as Be,u as Fe,r as He,a as de,b as Pe}from"./huntItemService.Itrye26R.js";import{_ as ce,g as Le,u as Te,b as Ge}from"./_plugin-vue_export-helper.DzgpqwbF.js";/* empty css                       *//* empty css                           */import{d as me,c as g,o as c,a as n,e as j,k as ue,t as v,w as E,n as je,f as m,l as Ne,m as P,b as Ae,F as Y,r as Z,g as De,i as Ve,j as Me}from"./runtime-core.esm-bundler.6V7JjrVJ.js";const Re=me({__name:"HuntListItem",props:{huntItem:{type:Object,required:!0}},emits:["update","remove","image-error"],setup(L,{expose:o,emit:l}){o();const t=L,i=l,h=m({...t.huntItem}),r=m(!1),b=m(t.huntItem.current_balance||0),f=m(null),I=m(!1);Ne(()=>t.huntItem,_=>{h.value={..._}},{deep:!0});const U=P(()=>$(t.huntItem.item));function x(){i("update",{...h.value})}function B(_){I.value=_==="bonus"?!h.value.bonus:!h.value.super_bonus,f.value=_,_==="bonus"&&h.value.bonus||_==="super_bonus"&&h.value.super_bonus?r.value=!0:x()}function T(){h.value.current_balance=b.value,x(),r.value=!1,f.value=null}function z(){f.value==="bonus"?h.value.bonus=I.value:f.value==="super_bonus"&&(h.value.super_bonus=I.value),r.value=!1,f.value=null}function O(_){i("image-error",{huntItemId:t.huntItem.id,type:_})}const N={props:t,emit:i,localItem:h,showBalanceModal:r,currentBalance:b,bonusTypeBeingUpdated:f,previousBonusState:I,formattedItemName:U,updateItem:x,handleBonusChange:B,saveBalanceUpdate:T,cancelBalanceUpdate:z,handleImageError:O,GameThumbnail:Ue,ActionButton:Ee};return Object.defineProperty(N,"__isScriptSetup",{enumerable:!1,value:!0}),N}}),ze={class:"flex items-center justify-between"},Oe={class:"flex items-center gap-3"},We={class:"font-medium text-gold"},qe={class:"flex items-center gap-4"},Je={class:"flex items-center gap-2"},Ke={class:"flex items-center gap-2"},Qe={class:"flex items-center gap-2"},Xe={class:"flex items-center gap-2"},Ye={class:"flex items-center gap-2"},Ze={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},$e={class:"bg-brown-dark border border-gold rounded-lg p-6 w-96 shadow-xl"},et={class:"mb-4"},tt={class:"flex justify-end gap-3"};function nt(L,o,l,t,i,h){return c(),g("div",{class:je(["p-3 border rounded-lg hover:bg-orange-900/40",l.huntItem.active?"bg-green-900/30 item-active":"bg-gray-800/40 item-inactive"])},[n("div",ze,[n("div",Oe,[ue(t.GameThumbnail,{"thumbnail-url":l.huntItem.custom_thumb,"background-url":l.huntItem.url_background,alt:l.huntItem.item,size:"sm",onImageError:t.handleImageError},null,8,["thumbnail-url","background-url","alt"]),n("span",We,v(t.formattedItemName),1)]),n("div",qe,[n("div",Je,[o[11]||(o[11]=n("label",{class:"text-sm text-gold"},"Wager:",-1)),E(n("input",{type:"number","onUpdate:modelValue":o[0]||(o[0]=r=>t.localItem.wager=r),class:"w-24 px-2 py-1 border rounded bg-brown-dark text-gold",onInput:t.updateItem},null,544),[[R,t.localItem.wager]])]),n("div",Ke,[o[12]||(o[12]=n("label",{class:"text-sm text-gold"},"Result:",-1)),E(n("input",{type:"number","onUpdate:modelValue":o[1]||(o[1]=r=>t.localItem.result=r),class:"w-24 px-2 py-1 border rounded bg-brown-dark text-gold",onInput:t.updateItem},null,544),[[R,t.localItem.result]])]),n("div",Qe,[o[13]||(o[13]=n("label",{class:"text-sm text-gold"},"Bonus:",-1)),E(n("input",{type:"checkbox","onUpdate:modelValue":o[2]||(o[2]=r=>t.localItem.bonus=r),class:"form-checkbox h-5 w-5 text-orange-600 rounded border-orange-400 focus:ring-orange-500",onChange:o[3]||(o[3]=r=>t.handleBonusChange("bonus"))},null,544),[[X,t.localItem.bonus]])]),n("div",Xe,[o[14]||(o[14]=n("label",{class:"text-sm text-gold"},"Super:",-1)),E(n("input",{type:"checkbox","onUpdate:modelValue":o[4]||(o[4]=r=>t.localItem.super_bonus=r),class:"form-checkbox h-5 w-5 text-orange-600 rounded border-orange-400 focus:ring-orange-500",onChange:o[5]||(o[5]=r=>t.handleBonusChange("super_bonus"))},null,544),[[X,t.localItem.super_bonus]])]),n("div",Ye,[o[15]||(o[15]=n("label",{class:"text-sm text-gold"},"Done:",-1)),E(n("input",{type:"checkbox","onUpdate:modelValue":o[6]||(o[6]=r=>t.localItem.completed=r),class:"form-checkbox h-5 w-5 text-orange-600 rounded border-orange-400 focus:ring-orange-500",onChange:t.updateItem},null,544),[[X,t.localItem.completed]])]),ue(t.ActionButton,{icon:"trash",variant:"danger",size:"sm",onClick:o[7]||(o[7]=r=>t.emit("remove",t.props.huntItem.id))})])]),t.showBalanceModal?(c(),g("div",Ze,[n("div",$e,[o[17]||(o[17]=n("h3",{class:"text-xl font-bold text-gold mb-4"},"Enter Current Balance",-1)),n("div",et,[o[16]||(o[16]=n("label",{class:"block text-gold mb-2"},"Current Balance:",-1)),E(n("input",{type:"number","onUpdate:modelValue":o[8]||(o[8]=r=>t.currentBalance=r),class:"w-full px-3 py-2 border rounded bg-brown-light text-gold",placeholder:"Enter current balance"},null,512),[[R,t.currentBalance]])]),n("div",tt,[n("button",{onClick:o[9]||(o[9]=r=>t.cancelBalanceUpdate()),class:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700"}," Cancel "),n("button",{onClick:o[10]||(o[10]=r=>t.saveBalanceUpdate()),class:"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700"}," Save ")])])])):j("",!0)],2)}const ot=ce(Re,[["render",nt],["__scopeId","data-v-9157b30b"]]),st=!0,rt=me({__name:"HuntList",props:{eventId:{},userId:{}},setup(L,{expose:o}){o();const l=L,t=m(!0),i=m([]),h=m(0),r=m(null),b=m([]),f=m(!1),I=m(""),U=m(null),x=m(1),B=m(0),T=m(20),z=P(()=>i.value.length),O=P(()=>i.value.filter(e=>e.bonus===!0).length),N=P(()=>i.value.filter(e=>e.super_bonus===!0).length),_=P(()=>{const e=h.value??0;try{return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(e)}catch{return`$${Math.round(e).toLocaleString("en-US")}`}}),A=m(!1),D=m(!1),W=m([]),q=m(!1),u=(...e)=>{console.log("[HuntList]",...e)},J=P(()=>"/bognushunter"),ge=()=>{console.log(`${window.location.origin}${J.value}stream/${l.eventId}`);const e=`${window.location.origin}${J.value}stream/${l.eventId}`,a=window.open(e,"huntStreamElement","width=800,height=600,scrollbars=yes,resizable=yes,toolbar=no,menubar=no,location=no,status=no");a?(a.focus(),S("Stream element opened in new window")):d("Failed to open stream window. Please check your popup blocker settings.")},F=async()=>{try{u("Fetching hunt list for event:",l.eventId),t.value=!0;const{event:e,error:s}=await Le(l.eventId);if(s)console.error("Error fetching event details:",s),d(`Failed to load event details: ${s.message}`);else if(e){u("Event details fetched:",e.id);const G=ie(),{data:k,error:le}=await G.from("suggestion_events").select("starting_balance, current_balance").eq("id",l.eventId).single();le?console.error("Error fetching balance information:",le):k&&(h.value=k.starting_balance||0,r.value=k.current_balance||null,u("Starting balance:",h.value),u("Current balance:",r.value))}const a=await Be(l.eventId),{huntItems:w,error:y}=a;if(y){console.error("Error fetching hunt items:",y),d(`Failed to load hunt list: ${y.message}`);return}i.value=w,u("Hunt list fetched:",i.value.length),i.value.length===0&&C("Hunt list is empty. Add items from the Suggestions page.")}catch(e){console.error("Exception during hunt list fetching:",e),d(`Failed to load hunt list: ${e instanceof Error?e.message:"Unknown error"}`)}finally{t.value=!1}},he=async e=>{try{if(console.log("Full hunt item being updated:",JSON.stringify(e,null,2)),u("Updating hunt item with ID:",e.id),u("Suggestion ID:",e.suggestion_id),!e.id.includes("-")){console.error("Invalid hunt item ID format. Expected UUID format but got:",e.id),d("Invalid hunt item ID format. Please refresh the page and try again.");return}const s={id:e.id,event_id:e.event_id,suggestion_id:e.suggestion_id,wager:e.wager,result:e.result,bonus:e.bonus,super_bonus:e.super_bonus,completed:e.completed,custom_thumb:e.custom_thumb,url_background:e.url_background,item:e.item,active:e.active};console.log("Hunt item object being sent to service:",s);const{huntItem:a,error:w}=await Fe(s);if(w){console.error("Error updating hunt item:",w),d(`Failed to update hunt item: ${w.message}`);return}if(!a){console.error("Failed to update hunt item"),d("Failed to update hunt item: Unknown error");return}const y=i.value.findIndex(G=>G.id===a.id);y!==-1?i.value[y]={...i.value[y],...a}:await F(),u("Hunt item updated:",e.id),S("Hunt item updated successfully")}catch(s){console.error("Exception during hunt item update:",s),d(`Failed to update hunt item: ${s instanceof Error?s.message:"Unknown error"}`)}},ve=async e=>{if(!e){console.error("Invalid item ID for removal"),d("Cannot remove item: Invalid ID");return}try{u("Removing hunt item with ID:",e);const s=i.value.find(k=>k.id===e)?.item||"Item";C(`Removing "${$(s)}" from hunt list...`);const a=[...i.value];i.value=i.value.filter(k=>k.id!==e);const{success:w,error:y,data:G}=await He(e);if(y){console.error("Error removing hunt item:",y),i.value=a,d(`Failed to remove item: ${y.message}`);return}if(!w){console.error("Failed to remove hunt item"),i.value=a,d("Failed to remove item: Unknown error");return}u("Hunt item removed successfully:",G),S(`"${$(s)}" removed from hunt list!`)}catch(s){console.error("Exception during hunt item removal:",s),d(`An error occurred while removing the item: ${s instanceof Error?s.message:"Unknown error"}`),await F()}},be=async()=>{try{u("Updating starting balance for event:",l.eventId);const{success:e,error:s}=await Te(l.eventId,h.value);if(s){console.error("Error updating starting balance:",s),d(`Failed to update starting balance: ${s.message}`);return}if(!e){console.error("Failed to update starting balance"),d("Failed to update starting balance: Unknown error");return}u("Starting balance updated for event:",l.eventId),S("Starting balance updated successfully")}catch(e){console.error("Exception during starting balance update:",e),d(`Failed to update starting balance: ${e instanceof Error?e.message:"Unknown error"}`)}},pe=async()=>{try{u("Updating current balance for event:",l.eventId);const{success:e,error:s}=await Ge(l.eventId,r.value);if(s){console.error("Error updating current balance:",s),d(`Failed to update current balance: ${s.message}`);return}if(!e){console.error("Failed to update current balance"),d("Failed to update current balance: Unknown error");return}u("Current balance updated for event:",l.eventId),S("Current balance updated successfully")}catch(e){console.error("Exception during current balance update:",e),d(`Failed to update current balance: ${e instanceof Error?e.message:"Unknown error"}`)}},ee=()=>i.value.reduce((e,s)=>e+(s.wager||0),0),te=()=>i.value.reduce((e,s)=>e+(s.result||0),0),fe=()=>te()-ee(),ne=e=>`https://placehold.co/100x100/orange/white?text=${encodeURIComponent(e.substring(0,2).toUpperCase())}`,xe=(e,s)=>{const a=e.target;a.src=ne(s.item)},p=e=>e?e.replace(/-/g," ").split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" "):"",we=(e,s)=>{const a=e.target;a.src!==s.custom_thumb&&s.custom_thumb?a.src=s.custom_thumb?.replace("cdn://","https://cdnv1.500.casino/"):a.src=`https://via.placeholder.com/300x200/e2e8f0/64748b?text=${encodeURIComponent(p(s.name))}`},K=e=>i.value.some(s=>s.item===e),ye=()=>{U.value&&clearTimeout(U.value),U.value=setTimeout(()=>{oe(),C("Searching for games...")},500)},V=async()=>{if(!I.value.trim()){b.value=[],B.value=0,f.value=!1;return}f.value=!0,console.log("Fetching games with params:",{search:I.value,page:x.value,perPage:T.value});try{const s=await fetch("/bognushunter/api/games",{method:"POST",body:JSON.stringify({search:I.value,page:x.value,perPage:T.value}),headers:{"Content-Type":"application/json; charset=UTF-8",Accept:"application/json"}});if(!s.ok)throw new Error(`API responded with status: ${s.status}`);const a=await s.json();b.value=a.results||[],B.value=a.pagination?.totalEntries||0,A.value=a.pagination?.hasPrev||!1,D.value=a.pagination?.hasNext||!1}catch(e){console.error("Error fetching games:",e),d("Failed to load games. Please try again."),b.value=[],B.value=0,A.value=!1,D.value=!1}finally{f.value=!1}},oe=()=>{x.value=1,V()},_e=()=>{D.value&&(x.value++,V())},Ie=()=>{A.value&&x.value>1&&(x.value--,V())},ke=async e=>{if(K(e.name)){C(`"${p(e.name)}" is already in the hunt list`);return}try{console.log("Adding game to hunt list:",e);const{huntItem:s,error:a,exists:w}=await de(l.eventId,e.name,l.userId,e.custom_thumb||e.url_thumb||null,e.url_background||null);if(a){console.error("Error adding to hunt list:",a),d(`Failed to add "${p(e.name)}" to hunt list: ${a.message}`);return}if(w){C(`"${p(e.name)}" is already in the hunt list`);return}await F(),S(`"${p(e.name)}" added to hunt list!`),console.log("Game added to hunt list successfully:",s)}catch(s){console.error("Error adding to hunt list:",s),d(`Failed to add "${p(e.name)}" to hunt list. Please try again.`)}},Q=async()=>{try{q.value=!0,u("Fetching suggestions for event:",l.eventId);const{suggestions:e,error:s}=await Pe(l.eventId);if(s){console.error("Error fetching suggestions:",s),d(`Failed to load suggestions: ${s.message}`);return}W.value=e,u("Suggestions fetched:",W.value.length)}catch(e){console.error("Exception during suggestions fetching:",e),d(`Failed to load suggestions: ${e instanceof Error?e.message:"Unknown error"}`)}finally{q.value=!1}},Se=e=>{const s=e.target;s.src="/placeholder-game.png"},Ce=async e=>{if(K(e.item)){C(`"${p(e.item)}" is already in the hunt list`);return}try{console.log("Adding suggestion to hunt list:",e);const{huntItem:s,error:a,exists:w}=await de(l.eventId,e.item,l.userId,e.custom_thumb||e.url_thumb||null,e.url_background||null);if(a){console.error("Error adding suggestion to hunt list:",a),d(`Failed to add "${p(e.item)}" to hunt list: ${a.message}`);return}if(w){C(`"${p(e.item)}" is already in the hunt list`);return}await F(),S(`"${p(e.item)}" added to hunt list!`),console.log("Suggestion added to hunt list successfully:",s)}catch(s){console.error("Error adding suggestion to hunt list:",s),d(`Failed to add "${p(e.item)}" to hunt list. Please try again.`)}},se=()=>{const e=ie();return u("Setting up real-time subscription for suggestions"),e.channel("suggestions-changes").on("postgres_changes",{event:"*",schema:"public",table:"suggestions",filter:`event_id=eq.${l.eventId}`},a=>{u("Suggestions change detected:",a),H.value&&clearTimeout(H.value),H.value=setTimeout(()=>{u("Refreshing suggestions due to real-time update"),Q()},500)}).subscribe(a=>{u("Suggestions subscription status:",a)})},re=e=>{e&&(u("Cleaning up suggestions subscription"),e.unsubscribe())};let M;const H=m(null);De(async()=>{u("Component mounted"),await F(),await Q(),M=se()}),Ve(()=>{u("Component unmounting, cleaning up subscriptions"),re(M),H.value&&clearTimeout(H.value)});const ae={DEBUG:st,props:l,loading:t,huntList:i,startingBalance:h,currentBalance:r,games:b,gamesLoading:f,searchTerm:I,searchTimeout:U,currentPage:x,totalItems:B,itemsPerPage:T,totalItemsCount:z,totalBonusCount:O,totalSuperBonusCount:N,formattedStartingBalance:_,hasPrevPage:A,hasNextPage:D,suggestions:W,suggestionsLoading:q,log:u,basePath:J,openStreamWindow:ge,fetchHuntList:F,updateHuntItem:he,removeHuntItem:ve,updateStartingBalance:be,updateCurrentBalance:pe,calculateTotalWager:ee,calculateTotalResult:te,calculateProfit:fe,getPlaceholderImage:ne,handleImageError:xe,formatGameName:p,handleGameImageError:we,isGameInHuntList:K,handleSearchInput:ye,fetchGames:V,resetAndFetchGames:oe,nextPage:_e,prevPage:Ie,addGameToHunt:ke,fetchSuggestionsData:Q,handleSuggestionImageError:Se,addSuggestionToHunt:Ce,setupSuggestionsSubscription:se,cleanupSubscriptions:re,get suggestionsChannel(){return M},set suggestionsChannel(e){M=e},suggestionsRefreshTimeout:H,HuntListItem:ot};return Object.defineProperty(ae,"__isScriptSetup",{enumerable:!1,value:!0}),ae}}),at={class:"flex gap-6"},lt={class:"flex-1 space-y-6"},it={class:"bg-brown rounded-lg shadow p-6"},dt={class:"mb-6 p-4 bg-brown-dark rounded-lg border border-orange"},ut={class:"mb-3"},ct={class:"relative"},mt={key:0,class:"flex justify-center my-4"},gt={key:1,class:"space-y-2 max-h-60 overflow-y-auto"},ht={class:"relative w-10 h-10 mr-3 overflow-hidden rounded flex-shrink-0"},vt=["src","alt","onError"],bt={class:"flex-grow min-w-0"},pt={class:"flex items-center justify-between"},ft={class:"font-medium text-gold text-sm truncate"},xt={key:0,class:"text-xs px-1.5 py-0.5 bg-green-100 text-green-800 rounded ml-2 flex-shrink-0"},wt={class:"text-gold text-xs opacity-75"},yt=["onClick","disabled","title"],_t={key:2,class:"text-center py-4"},It={key:3,class:"mt-3 flex justify-between items-center text-sm"},kt=["disabled"],St={class:"text-gold"},Ct=["disabled"],Et={key:0,class:"mb-3"},Ut={class:"flex flex-wrap items-center gap-3 px-3 py-2 bg-brown-dark rounded border border-orange"},Bt={class:"text-sm font-semibold text-gold"},Ft={class:"text-sm font-semibold text-gold"},Ht={class:"text-sm font-semibold text-violet-300"},Pt={class:"text-sm font-semibold text-amber-300"},Lt={key:1,class:"flex justify-center my-8"},Tt={key:2,class:"space-y-4"},Gt={key:3,class:"text-center py-8"},jt={class:"w-80 space-y-3"},Nt={class:"bg-brown rounded-lg shadow p-4"},At={class:"flex items-center justify-between mb-3"},Dt={class:"text-sm text-orange bg-brown-dark px-2 py-1 rounded"},Vt={key:0,class:"flex justify-center my-4"},Mt={key:1,class:"space-y-2 max-h-96 overflow-y-auto"},Rt={class:"relative w-8 h-8 mr-2 overflow-hidden rounded flex-shrink-0"},zt=["src","alt"],Ot={class:"flex-grow min-w-0 mr-2"},Wt={class:"font-medium text-gold text-sm truncate"},qt={class:"text-xs text-orange"},Jt=["onClick","disabled","title"],Kt={key:2,class:"text-center py-4"};function Qt(L,o,l,t,i,h){return c(),g("div",at,[n("div",lt,[n("div",it,[n("div",{class:"flex items-center justify-between mb-4"},[o[3]||(o[3]=n("h2",{class:"text-xl font-semibold text-gold"},"Hunt List",-1)),n("button",{onClick:t.openStreamWindow,class:"flex items-center gap-2 px-3 py-1.5 bg-violet-600 hover:bg-violet-700 text-white text-sm rounded-md transition-colors",title:"Open Stream Element in New Window"},o[2]||(o[2]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1),Ae(" Stream Element ",-1)]))]),n("div",dt,[o[7]||(o[7]=n("h3",{class:"text-lg font-semibold mb-3 text-gold"},"Add Games to Hunt",-1)),n("div",ut,[n("div",ct,[E(n("input",{style:{"background-color":"#592101"},"onUpdate:modelValue":o[0]||(o[0]=r=>t.searchTerm=r),onInput:t.handleSearchInput,type:"text",placeholder:"Search for games to add to hunt list...",class:"w-full px-3 py-2 text-sm border rounded-md pr-10 text-gold"},null,544),[[R,t.searchTerm]]),n("button",{onClick:t.resetAndFetchGames,class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gold hover:text-gray-700 bg-orange p-1 rounded"},o[4]||(o[4]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)]))])]),t.gamesLoading?(c(),g("div",mt,o[5]||(o[5]=[n("div",{class:"w-6 h-6 border-2 border-orange border-t-transparent rounded-full animate-spin"},null,-1)]))):!t.gamesLoading&&t.games.length>0?(c(),g("div",gt,[(c(!0),g(Y,null,Z(t.games,r=>(c(),g("div",{key:r._id||r.game_id,class:"flex items-center p-2 border rounded hover:bg-orange-900/40 transition-all duration-200"},[n("div",ht,[n("img",{src:r.custom_thumb?.replace("cdn://","https://cdnv1.500.casino/")||r.url_thumb,alt:r.name,class:"w-full h-full object-cover",onError:b=>t.handleGameImageError(b,r)},null,40,vt)]),n("div",bt,[n("div",pt,[n("span",ft,v(t.formatGameName(r.name)),1),r.rtp?(c(),g("span",xt,v(r.rtp)+"%",1)):j("",!0)]),n("div",wt,v(r.provider),1)]),n("button",{onClick:b=>t.addGameToHunt(r),disabled:t.isGameInHuntList(r.name),class:"px-3 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors ml-2",title:t.isGameInHuntList(r.name)?"Already in hunt list":"Add to hunt list"},v(t.isGameInHuntList(r.name)?"✓ Added":"+ Add to Hunt"),9,yt)]))),128))])):!t.gamesLoading&&t.games.length===0&&t.searchTerm.trim()!==""?(c(),g("div",_t,o[6]||(o[6]=[n("p",{class:"text-gold text-sm"},"No games found. Try a different search term.",-1)]))):j("",!0),t.games.length>0?(c(),g("div",It,[n("button",{onClick:t.prevPage,disabled:t.currentPage===1||!t.hasPrevPage,class:"px-3 py-1.5 border rounded bg-orange text-gold disabled:opacity-50 disabled:cursor-not-allowed text-sm"}," Previous ",8,kt),n("span",St,"Page "+v(t.currentPage),1),n("button",{onClick:t.nextPage,disabled:!t.hasNextPage,class:"px-3 py-1.5 border rounded bg-orange text-gold disabled:opacity-50 disabled:cursor-not-allowed text-sm"}," Next ",8,Ct)])):j("",!0)]),t.loading?j("",!0):(c(),g("div",Et,[n("div",Ut,[o[8]||(o[8]=n("div",{class:"text-xs text-gold/80"},"Starting",-1)),n("div",Bt,v(t.formattedStartingBalance),1),o[9]||(o[9]=n("span",{class:"mx-2 h-4 w-px bg-orange/40"},null,-1)),o[10]||(o[10]=n("div",{class:"text-xs text-gold/80"},"Items",-1)),n("div",Ft,v(t.totalItemsCount),1),o[11]||(o[11]=n("span",{class:"mx-2 h-4 w-px bg-orange/40"},null,-1)),o[12]||(o[12]=n("div",{class:"text-xs text-gold/80"},"Bonuses",-1)),n("div",Ht,v(t.totalBonusCount),1),o[13]||(o[13]=n("span",{class:"mx-2 h-4 w-px bg-orange/40"},null,-1)),o[14]||(o[14]=n("div",{class:"text-xs text-gold/80"},"Super",-1)),n("div",Pt,v(t.totalSuperBonusCount),1)])])),t.loading?(c(),g("div",Lt,o[15]||(o[15]=[n("div",{class:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"},null,-1)]))):t.huntList.length>0?(c(),g("div",Tt,[(c(!0),g(Y,null,Z(t.huntList,r=>(c(),Me(t.HuntListItem,{key:r.id,"hunt-item":r,onUpdate:t.updateHuntItem,onRemove:t.removeHuntItem},null,8,["hunt-item"]))),128))])):(c(),g("div",Gt,o[16]||(o[16]=[n("p",{class:"text-gold"},"No items in the hunt list yet.",-1)])))])]),n("div",jt,[n("div",Nt,[n("div",At,[o[17]||(o[17]=n("h3",{class:"text-lg font-semibold text-gold"},"Suggestions",-1)),n("span",Dt,v(t.suggestions.length),1)]),t.suggestionsLoading?(c(),g("div",Vt,o[18]||(o[18]=[n("div",{class:"w-6 h-6 border-2 border-orange border-t-transparent rounded-full animate-spin"},null,-1)]))):t.suggestions.length>0?(c(),g("div",Mt,[(c(!0),g(Y,null,Z(t.suggestions,r=>(c(),g("div",{key:r.id,class:"flex items-center p-2 border rounded hover:bg-orange-900/40 transition-all duration-200"},[n("div",Rt,[n("img",{src:r.custom_thumb?.replace("cdn://","https://cdnv1.500.casino/")||r.url_thumb||"/placeholder-game.png",alt:r.item,class:"w-full h-full object-cover",onError:o[1]||(o[1]=b=>t.handleSuggestionImageError(b))},null,40,zt)]),n("div",Ot,[n("div",Wt,v(t.formatGameName(r.item)),1),n("div",qt,v(r.count)+" suggestion"+v(r.count>1?"s":""),1)]),n("button",{onClick:b=>t.addSuggestionToHunt(r),disabled:t.isGameInHuntList(r.item),class:"px-2 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex-shrink-0",title:t.isGameInHuntList(r.item)?"Already in hunt list":"Add to hunt list"},v(t.isGameInHuntList(r.item)?"✓":"+"),9,Jt)]))),128))])):(c(),g("div",Kt,o[19]||(o[19]=[n("p",{class:"text-gold text-sm"},"No suggestions yet.",-1),n("p",{class:"text-gold text-xs opacity-75 mt-1"},"Users can add suggestions from the main page.",-1)])))])])])}const rn=ce(rt,[["render",Qt]]);export{rn as default};
